<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <title>User Profile</title>

</head>
<body>

  <section style="background-color: #eee;">
    <div class="container py-5">
      <div class="row">
        <% if(message.length > 0){ %>
          <div class="alert alert-success">
              <!-- To Print -->
              <%= message %>
          </div>
        <% } %>
        <% if(msg.length > 0){ %>
            <div class="alert alert-danger">
                <!-- To Print -->
                <%= msg %>
            </div>
        <% } %>
        <div class="col-lg-4">
          <div class="card mb-4">
            <div class="card-body text-center">
               <!-- *******BAsic DEtails, Rank, Streak etc..., -->
              <img src="<%= i %>" alt="avatar"
                class="rounded-circle img-fluid" style="width: 150px;">
              <h5 class="my-3"><%= n %></h5>
              <p class="text-muted mb-1">Streak 11 <i class="fa-solid fa-fire-flame-curved fa-bounce" style="color: red;" ></i></p>
              <p class="text-muted mb-4">Rank: Knight <i class="fa-solid fa-chess-knight fa-beat" style="color: #B197FC;"></i></p>
              <p class="text-muted mb-4">11th Rank</p>
              <div class="d-flex justify-content-center mb-2">
                <button  type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-outline-primary ms-1">LeaderBoard</button>
              </div>
            </div>
          </div>


          <div class="card mb-4 mb-lg-0">
            <div class="card-body p-0">
              <ul class="list-group list-group-flush rounded-3">
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fas fa-globe fa-lg text-warning"></i>
                  <p class="mb-0">Challenge 1</p>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                    <i class="fas fa-globe fa-lg text-warning"></i>
                    <p class="mb-0">Challenge 2</p>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                    <i class="fas fa-globe fa-lg text-warning"></i>
                    <p class="mb-0">Challenge 3</p>
                  </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-instagram fa-lg" style="color: #ac2bac;"></i>
                  <p class="mb-0">Challenge 4 on Insta</p>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- !st half ends -->

        <!-- Other Half  {name,mail & all details}-->
        <div class="col-lg-8">
          <div class="card mb-4">
            <div class="card-body">
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Full Name</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0"><%= n %></p>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Email</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0"><%= e %></p>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Address</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">Bhopal</p>
                </div>
              </div>
              <hr>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateProfile">Edit Profile</button>
              <button class="btn btn-info ms-2" data-bs-toggle="modal" data-bs-target="#changePassword">Change Password</button>
              <a class="btn btn-danger ms-5" href="/logOut">Logout</a>
            </div>
          </div>

          <!-- Graph/Stats Section-->
          <div class="row">
            <div class="col-md-6">
              <div class="card mb-4 mb-md-0">
                <div class="card-body">
                  <p class="mb-4"><span class="text-primary font-italic me-1">Statistical</span> Data Seta </p>
                  
                  <p class="mb-1" style="font-size: .77rem;">Temperature(2019)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>

                  <p class="mt-4 mb-1" style="font-size: .77rem;">Temperature(2020)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 72%" aria-valuenow="72"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>

                  <p class="mt-4 mb-1" style="font-size: .77rem;">Temperature(2021)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 89%" aria-valuenow="89"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>

                  <p class="mt-4 mb-1" style="font-size: .77rem;">Temperature(2022)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 55%" aria-valuenow="55"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
    
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="card mb-4 mb-md-0">
                <div class="card-body">
                  <p class="mb-4"><span class="text-primary font-italic me-1">Kuchh</span> aur data </p>
                 
                  <p class="mb-1" style="font-size: .77rem;">Polution(2019)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>

                  <p class="mt-4 mb-1" style="font-size: .77rem;">Polution(2019)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 72%" aria-valuenow="72"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>

                  <p class="mt-4 mb-1" style="font-size: .77rem;">Polution(2019)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 89%" aria-valuenow="89"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>

                  <p class="mt-4 mb-1" style="font-size: .77rem;">Polution(2019)</p>
                  <div class="progress rounded" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 55%" aria-valuenow="55"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!--Update Profile Modal -->
    <div class="modal fade" id="updateProfile" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">
                      Profile Update
                  </h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form action="/updateProfile" method="post" enctype="multipart/form-data">
                      <div class="mb-3">
                          <label for="">Name</label>
                          <input type="text" name="name" value="<%= n %>" class="form-control" />
                      </div>
                      <div class="mb-3">
                          <label for="">Email</label>
                          <input type="email" name="email" value="<%= e %>" class="form-control" />
                      </div>
                      <div class="mb-3">
                          <label for="">Image</label>
                          <input type="file" name="image" class="form-control">
                          <img src="<%= i.url %>" alt="profile-image" width="50px">
                      </div>
                      <button type="submit" class="btn btn-success">Update Profile</button>
                  </form>
              </div>
          </div>
      </div>
  </div>
  <!--Update Profile Modal End-->

  <!--Change Password Modal -->
  <div class="modal fade" id="changePassword" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">
                      Update Password
                  </h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form action="/changePassword" method="post">
                      <div class="mb-3">
                          <label for="">Old Password</label>
                          <input type="password" name="op" class="form-control" />
                      </div>
                      <div class="mb-3">
                          <label for="">New Password</label>
                          <input type="password" name="np" class="form-control" />
                      </div>
                      <div class="mb-3">
                          <label for="">Confirm Password</label>
                          <input type="text" name="cp" class="form-control" />
                      </div>
                      <button type="submit" class="btn btn-success">Update Password</button>
                  </form>
              </div>
          </div>
      </div>
  </div>
  <!--Change Password Modal End-->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</body>
</html>
